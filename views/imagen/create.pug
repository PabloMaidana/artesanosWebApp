
doctype html
html
  head
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width, initial-scale=1")
    title Subir Imagen – Artesanos.com
    link(rel="stylesheet" href="/public/css/main.css")
  body
    header.navbar
      .container
        a.navbar-brand(href="/") Artesanos.com
        

    main.container
      h2 Subir Imagen

      form(action="/imagen/create" method="POST" enctype="multipart/form-data")
        // Campo oculto con album_id si se preseleccionó un álbum
        if album_id
          input(type="hidden" name="album_id" value=album_id)
        else
          .mb-3
            label.form-label(for="album_id") Selecciona Álbum
            select#album_id.form-select(name="album_id" required)
              if albumes.length === 0
                option(value="" disabled selected) No tienes álbumes. Crea uno primero.
              else
                option(value="" disabled selected) -- Elige un álbum --
                each a in albumes
                  option(value=a.album_id)= `${a.titulo} (ID ${a.album_id})`

        .mb-3
          label.form-label(for="imagen") Selecciona imagen
          input#imagen.form-control(type="file" name="imagen" accept="image/*" required)
        .mb-3
          label.form-label(for="descripcion") Descripción (opcional)
          input#descripcion.form-control(type="text" name="descripcion" placeholder="Descripción de la imagen")
        button.btn.btn-primary(type="submit") Subir


